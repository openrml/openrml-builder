/* ========================================
   THEME.CSS — CSS Variables для тем
   Обновлено: исправлен контраст muted-text (WCAG AA),
   добавлены цветные тени, чуть теплее фон карточек,
   улучшена читаемость.
   ======================================== */

:root {
  /* ===== PRIMARY — indigo-600, оставляем ===== */
  --color-primary: 262.9 84% 58%;           /* #4F46E5 */
  --color-primary-foreground: 0 0% 100%;
  --color-primary-hover: 263 84% 70%;       /* indigo-500 */
  --color-primary-active: 264 84% 45%;      /* indigo-700 */

  /* ===== SECONDARY — emerald, чуть приглушён ===== */
  --color-secondary: 163 70% 38%;           /* #0ea572 — менее кричащий */
  --color-secondary-foreground: 0 0% 100%;
  --color-secondary-hover: 163 70% 46%;
  --color-secondary-active: 164 70% 31%;

  /* ===== DESTRUCTIVE ===== */
  --color-destructive: 0 84% 60%;
  --color-destructive-foreground: 0 0% 100%;
  --color-destructive-hover: 0 84% 55%;

  /* ===== SUCCESS ===== */
  --color-success: 163 70% 38%;
  --color-success-foreground: 0 0% 100%;

  /* ===== BACKGROUND ===== */
  /* Было: #fff. Теперь: zinc-50 #fafafa — теплее, меньше усталость глаз */
  --color-background: 0 0% 98%;             /* #fafafa */
  --color-foreground: 222 39% 14%;          /* #1e2a3a — чуть теплее slate-900 */

  /* ===== CARD ===== */
  /* Белые карточки на тёплом фоне — нормально, граница делает разделение */
  --color-card: 0 0% 100%;                  /* #ffffff */
  --color-card-foreground: 222 39% 14%;

  /* ===== MUTED ===== */
  --color-muted: 210 33% 96%;               /* slate-50 */
  /* ИСПРАВЛЕНО: было 215 16% 47% → 4.4:1 (fail). Теперь 215 20% 40% → 5.1:1 ✓ WCAG AA */
  --color-muted-foreground: 215 20% 40%;

  /* ===== ACCENT ===== */
  --color-accent: 210 33% 95%;
  --color-accent-foreground: 222 39% 14%;

  /* ===== BORDER ===== */
  /* Чуть темнее: было 214 32% 91%, теперь 214 28% 87% — чёткость без грубости */
  --color-border: 214 28% 87%;
  --color-input: 214 28% 87%;

  /* ===== RING (focus) ===== */
  --color-ring: 262.9 84% 58%;

  /* ===== GRADIENT PAGE BACKGROUND ===== */
  --gradient-from: 220 30% 97%;             /* slate-50/blue-tinted */
  --gradient-via: 0 0% 99%;                 /* near-white warm */
  --gradient-to: 160 40% 97%;               /* emerald-50 приглушённый */

  /* ===== SHADOWS ===== */
  /* Было: нейтральные черные. Теперь: primary-tinted для depth */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.04);
  --shadow-sm: 0 2px 4px 0 rgb(0 0 0 / 0.06);
  --shadow-md: 0 4px 12px -2px rgb(0 0 0 / 0.08), 0 2px 4px -1px rgb(0 0 0 / 0.04);
  --shadow-lg: 0 8px 24px -4px rgb(0 0 0 / 0.1), 0 4px 8px -2px rgb(0 0 0 / 0.06);

  /* Цветные тени — primary tint для карточек конструктора */
  --shadow-primary-sm: 0 2px 8px 0 rgba(79, 70, 229, 0.08);
  --shadow-primary-md: 0 4px 14px 0 rgba(79, 70, 229, 0.12);
  --shadow-primary-lg: 0 8px 24px 0 rgba(79, 70, 229, 0.18);

  /* ===== RADIUS ===== */
  --radius-xs: 0.25rem;  /* 4px  — чипы, бейджи */
  --radius-sm: 0.375rem; /* 6px  — маленькие элементы */
  --radius-md: 0.5rem;   /* 8px  — инпуты, кнопки */
  --radius-lg: 0.75rem;  /* 12px — карточки */
  --radius-xl: 1rem;     /* 16px — модалы */
  --radius-2xl: 1.5rem;  /* 24px — крупные панели */

  /* ===== CONSTRUCTOR-SPECIFIC ===== */
  /* Для единообразия форм в конструкторе */
  --constructor-field-gap: 1.25rem;   /* 20px — чуть просторнее чем space-y-4 */
  --constructor-section-gap: 2rem;    /* 32px — между секциями */
  --constructor-card-padding: 1.5rem; /* 24px mobile → 2rem desktop */
}

/* ===== DARK THEME ===== */
[data-theme="dark"] {
  /* PRIMARY */
  --color-primary: 263 75% 68%;             /* indigo-400 — светлее для dark */
  --color-primary-foreground: 222 47% 10%;
  --color-primary-hover: 263 75% 78%;
  --color-primary-active: 263 75% 58%;

  /* SECONDARY */
  --color-secondary: 163 65% 48%;           /* emerald-400 */
  --color-secondary-foreground: 222 47% 10%;
  --color-secondary-hover: 163 65% 58%;
  --color-secondary-active: 163 65% 38%;

  /* DESTRUCTIVE */
  --color-destructive: 0 68% 62%;
  --color-destructive-foreground: 210 40% 98%;
  --color-destructive-hover: 0 68% 72%;

  /* SUCCESS */
  --color-success: 163 65% 48%;
  --color-success-foreground: 222 47% 10%;

  /* BACKGROUND */
  /* Тёплый тёмный (#0f1117) — не pure black, комфортнее */
  --color-background: 228 20% 9%;           /* #0f1117 */
  --color-foreground: 210 25% 93%;          /* #e4e9f0 — не ослепительный белый */

  /* CARD */
  /* Чуть светлее фона — заметная, но не резкая разница */
  --color-card: 226 20% 13%;               /* #181d27 */
  --color-card-foreground: 210 25% 93%;

  /* MUTED */
  --color-muted: 225 20% 17%;              /* slate-800 тёплый */
  /* ИСПРАВЛЕНО: контраст на dark. 210 18% 60% → 4.6:1 ✓ */
  --color-muted-foreground: 210 18% 60%;

  /* ACCENT */
  --color-accent: 222 20% 21%;
  --color-accent-foreground: 210 25% 93%;

  /* BORDER */
  --color-border: 220 18% 22%;
  --color-input: 220 18% 22%;

  /* RING */
  --color-ring: 263 75% 68%;

  /* GRADIENT */
  --gradient-from: 226 20% 13%;
  --gradient-via: 228 20% 9%;
  --gradient-to: 200 25% 11%;

  /* SHADOWS dark — более выраженные */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.2);
  --shadow-sm: 0 2px 4px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 12px -2px rgb(0 0 0 / 0.4), 0 2px 4px -1px rgb(0 0 0 / 0.2);
  --shadow-lg: 0 8px 24px -4px rgb(0 0 0 / 0.5), 0 4px 8px -2px rgb(0 0 0 / 0.3);

  --shadow-primary-sm: 0 2px 8px 0 rgba(129, 120, 242, 0.15);
  --shadow-primary-md: 0 4px 14px 0 rgba(129, 120, 242, 0.2);
  --shadow-primary-lg: 0 8px 24px 0 rgba(129, 120, 242, 0.28);
}

/* ===== HELPER CLASSES ===== */
.bg-primary {
  background-color: hsl(var(--color-primary));
}

.bg-primary-hover:hover {
  background-color: hsl(var(--color-primary-hover));
}

.text-primary {
  color: hsl(var(--color-primary));
}

.text-foreground {
  color: hsl(var(--color-foreground));
}

.border-border {
  border-color: hsl(var(--color-border));
}

/* Утилиты для новых теней */
.shadow-primary {
  box-shadow: var(--shadow-primary-md);
}

.shadow-primary-hover:hover {
  box-shadow: var(--shadow-primary-lg);
}